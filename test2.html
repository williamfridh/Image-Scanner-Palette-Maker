<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <script src="test.js"></script>
    <script>
/*
        // Settings
        const SAMPLE_AMOUNT = 10;
        const SAMPLING_QUALITY = 10;

        const colorThief = new ColorThief();

        // Print colors
        function printColors(colors) {
            const colorsDiv = document.getElementById('colors');
            colorsDiv.innerHTML = '';

            colors.forEach(color => {
                const colorDiv = document.createElement('div');
                colorDiv.style.width = '20px';
                colorDiv.style.height = '20px';
                colorDiv.style.backgroundColor = `rgb(${color[0]}, ${color[1]}, ${color[2]})`;
                colorsDiv.appendChild(colorDiv);
            });
        }

        // Get the dominant color
        function getDominantColor(img) {
            const color = colorThief.getPalette(img, SAMPLE_AMOUNT, SAMPLING_QUALITY);
            printColors(color);
        }

        // When document is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const img = document.querySelector('img');
            img.setAttribute('crossorigin', 'anonymous');

            // Make sure image is finished loading
            if (img.complete) {
                getDominantColor(img);
            } else {
                img.addEventListener('load', function() {
                    getDominantColor(img);
                });
            }
        });
*/
        // Test.
        document.addEventListener('DOMContentLoaded', function() {
            // For each image
            const imgHolders = document.querySelectorAll('.img-holder');
            imgHolders.forEach(imgHolder => {
                const img = imgHolder.querySelector('img');
                const palette = imgHolder.querySelector('.palette');
                getPalette(img, 0.2, 5, 0.001, palette);
            });
        });
    </script>
    <style>
        body {
            background: #202020;
        }
        .img-holder {
            position: relative;
            display: inline-block;
            margin: 5px;
        }
        .palette {
            color: black;
            line-height: 20px;
            padding: 2px 0;
        }
    </style>
</head>
<body>
    <div class="img-holder">
    <img src="img/Localiza.jpg" width="400" />
        <div class="palette"></div>
    </div>
    <div class="img-holder">
        <img src="img/Bite.jpg" width="400" />
        <div class="palette"></div>
    </div>
    <div class="img-holder">
        <img src="img/Loop_Earplugs.jpg" width="400" />
        <div class="palette"></div>
    </div>
    <div class="img-holder">
        <img src="img/Manychat.jpg" width="400" />
        <div class="palette"></div>
    </div><!--
    <div class="img-holder">
        <img src="maxresdefault.jpg" width="400" />
        <div class="palette"></div>
    </div>
    <div class="img-holder">
        <img src="google-ads.jpg" width="400" />
        <div class="palette"></div>
    </div>-->
</body>
</html>

